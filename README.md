this is a new version of the fxswap calculation 